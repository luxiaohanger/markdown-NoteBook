# Memory
## 返回指针
1.函数内分配指针指向堆内存，函数返回此指针才不会销毁  

**如果分配了内存但指针没返回，则指针在函数退出时销毁，内存泄漏**  
## RVO
2.如果对象是直接分配在栈空间的，反而不会内存泄漏，由于RVO（返回值优化）返回的实际是对象的拷贝（原始对象被销毁），而基本数据类型，如栈空间的c数组，由于本质上返回裸指针，会导致悬空指针  
## 参数传递
3.对象参数传递  
（1）值传递 参数列表直接写对象类型
（2）引用传递 class& name 和指针类似，操作原对象，而且不需要指针解引用

## 隐藏的空指针解引用
空指针的解引用是危险的
```cpp
ListNode* dummy;
dummy->next=head;
```
此处会报错，因为dummy未初始化,不会分配内存，指向内存未知，`dummy->next` 本质是 `(*dummy).next`. 发生了错误解引用

而如下写法是可以的
```cpp
ListNode dummy;
dummy.next=head;
```
`dummy` 拥有栈空间，因此可以的访问 `next`